CREATE TABLE TBL_USER(
USER_NUMBER VARCHAR2(100),
USER_NAME VARCHAR2(100),
USER_AGE NUMBER,
USER_PHONENUMBER VARCHAR2(1000),
USER_ADDRES VARCHAR2(1000),
USER_LOAN CHAR(1),CHECK(USER_LOAN = 'O' OR USER_LOAN = 'X'),
CONSTRAINT PK_USER PRIMARY KEY(USER_NUMBER)
);

CREATE TABLE TBL_BOOK(
BOOK_NUMBER NUMBER,
BOOK_NAME VARCHAR2(100),
BOOK_GENRE VARCHAR2(100)CHECK(BOOK_GENRE = '인문학' OR BOOK_GENRE ='IT' OR BOOK_GENRE = '추리'),
BOOK_LOAN VARCHAR2(1),
CONSTRAINT PK_BOOK PRIMARY KEY(BOOK_NUMBER),
CONSTRAINT FK_BOOK FOREIGN KEY(BOOK_LOAN) REFERENCES TBL_USER(USER_NUMBER)
);

CREATE TABLE TBL_LOAN(
LOAN_DATE DATE,
LOAN_RETURN_DATE DATE,
LOAN_USER_NUMBER VARCHAR2(100),
LOAN_BOOK_NUMBER NUMBER,
CONSTRAINT FK_LOAN FOREIGN KEY(LOAN_USER_NUMBER) REFERENCES TBL_USER(USER_NUMBER),
CONSTRAINT FK_LOAN2 FOREIGN KEY(LOAN_BOOK_NUMBER) REFERENCES TBL_BOOK(BOOK_NUMBER)
);


DROP TABLE TBL_BOOK;
DROP TABLE TBL_USER;
DROP TABLE TBL_LOAN;


SELECT *FROM TBL_USER tu ;
SELECT *FROM TBL_BOOK tb ;

INSERT INTO TBL_USER tu 
--VALUES('1', '준혁',28,'010','서울시', 'O');
VALUES('2', '초현',22,'010','서울시', 'O');


INSERT INTO TBL_BOOK tb 
VALUES(2, '신데렐라', '인문학', '2');

INSERT INTO TBL_LOAN tl 
VALUES((2024.12.18), (2024.12.30),'1',1);


